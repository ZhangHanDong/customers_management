<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<title>Ajax Offline With Gears Demo </title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<style>
	#content 
	{ 
		margin: 48px; 
	}
	.legal
	{
		text-align:center;
		font-size: 80%;
		color: #666;
	}
</style>

<script type="text/javascript" src="gears_init.js"></script>
<script type="text/javascript" src="gears_offline.js"></script>
<script type="text/javascript" src="ajax-gears.js"></script>

<script type="text/javascript">

function storing(result)
{
	var storage = document.getElementById("storage");
	storage.innerHTML = result;
}

function demo()
{
	init();  // starts gears

	var xhr = gearsCreate();
	gearsGet(xhr, storing, 'xhr-demo.txt')
}

window.onload=demo;   // for our demo

</script>

</head>

<body bgcolor="#ffffff">
<div id="content"> 
  <h1>Ajax Offline With Gears Demo </h1>
  <p>	
Using the XMLHttpRequest object with or without Gears. The script ajax-gears.js create a XMLHttpRequest object with Gears if it is installed or without it if it is not.</p>
  <p> If the Gears plug-in is installed  the page can be viewed offline without Internet connection, otherwise  it works also, but only online. <br>
  The first time, the page should be on line for Gears  starts the synchronization. </p>
  <div style="float:right;padding:16px;text-align:center">
	<button onClick="createStore()"> Go offline </button>
	<br>
	<button onClick="removeStore()"> Return online</button>
  </div>

  <div id="textOut" style="font-weight:bold">
  </div>
  <br>
  <p><u>Data retrieved from the server (or locally when offline)  :</u></p>
  <br>
  <div id="storage" style="font-weight:bold">
  </div>

  <br>
  <p>Return to the tutorial:  <a href="ajax-offline.php" target="_parent">Ajax offline with  Gears</a></p>
  <br>

<div class="legal">(c) 2008 <a href="http://www.xul.fr/en/" target="_parent" >Xul.fr</a>. 
      All rights reserved. <br>
Permission is granted to print this page and the code of the scripts and 
      to use freely the code.<br>
Don't display this page and the code on another website</div>
    
</div>
</body>
</html>
